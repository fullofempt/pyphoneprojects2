import os
import random

# Создаем структуру папок
categories = ['sport', 'technology', 'politics']
for category in categories:
    os.makedirs(category, exist_ok=True)

# Списки ключевых слов для каждой категории
sport_keywords = ['футбол', 'хоккей', 'матч', 'гол', 'команда', 'победа', 'чемпионат', 'олимпиада', 
                 'игрок', 'тренер', 'счет', 'турнир', 'медаль', 'спортсмен', 'стадион']

tech_keywords = ['искусственный интеллект', 'программирование', 'гаджет', 'смартфон', 'компьютер',
                'технология', 'инновация', 'приложение', 'софт', 'аппаратное обеспечение', 'данные',
                'алгоритм', 'интернет', 'цифровой', 'автоматизация']

politics_keywords = ['президент', 'правительство', 'выборы', 'закон', 'парламент', 'министр',
                    'международный', 'договор', 'политика', 'страна', 'лидер', 'переговоры',
                    'экономика', 'безопасность', 'дипломатия']

# Функция для генерации текста
def generate_text(category, is_test=False, file_num=1):
    if category == 'sport':
        titles = [
            "Победа в решающем матче чемпионата",
            "Новый рекорд установлен на Олимпиаде",
            "Трансфер звездного игрока завершен",
            "Сенсационная победа аутсайдера",
            "Подготовка к мировому первенству"
        ]
        contents = [
            "В решающем матче сезона команда одержала уверенную победу со счетом 3:0. Игроки показали великолепную игру и заслужили звание чемпионов.",
            "На международных соревнованиях был установлен новый мировой рекорд. Спортсмен показал выдающийся результат.",
            "Клуб объявил о переходе известного футболиста. Сумма трансфера составила рекордные для лиги деньги.",
            "Неожиданная победа аутсайдера стала главной сенсацией турнира. Команда показала характер и волю к победе.",
            "Национальная сборная начала интенсивную подготовку к предстоящему чемпионату мира. Тренерский штаб разработал новую тактику."
        ]
    
    elif category == 'technology':
        titles = [
            "Прорыв в области искусственного интеллекта",
            "Новый смартфон установил рекорды продаж",
            "Инновационная технология изменит будущее",
            "Кибербезопасность становится приоритетом",
            "Цифровая трансформация бизнеса"
        ]
        contents = [
            "Ученые представили новую модель искусственного интеллекта, способную решать сложные задачи. Технология открывает новые возможности.",
            "Новая модель смартфона побила все рекорды по продажам в первый день. Пользователи высоко оценили инновационные функции.",
            "Разработана революционная технология, которая может кардинально изменить различные отрасли промышленности.",
            "В связи с участившимися кибератаками компании инвестируют в системы безопасности. Защита данных становится критически важной.",
            "Бизнес активно внедряет цифровые технологии для повышения эффективности. Цифровая трансформация становится необходимостью."
        ]
    
    else:  # politics
        titles = [
            "Важные международные переговоры завершены",
            "Новый закон принят парламентом",
            "Выборы прошли в демократической атмосфере",
            "Экономическое сотрудничество укрепляется",
            "Встреча на высшем уровне состоялась"
        ]
        contents = [
            "Завершились важные международные переговоры между лидерами стран. Стороны договорились о сотрудничестве.",
            "Парламент принял новый закон, направленный на улучшение социальной защиты граждан. Закон вступит в силу с следующего месяца.",
            "Выборы прошли в спокойной обстановке при высокой явке избирателей. Международные наблюдатели подтвердили честность процесса.",
            "Страны договорились об укреплении экономического сотрудничества. Подписаны важные торговые соглашения.",
            "Состоялась встреча на высшем уровне, в ходе которой обсуждались актуальные международные вопросы."
        ]
    
    title = random.choice(titles)
    content = random.choice(contents)
    
    # Добавляем ключевые слова в зависимости от категории
    if category == 'sport':
        keywords = random.sample(sport_keywords, 3)
    elif category == 'technology':
        keywords = random.sample(tech_keywords, 3)
    else:
        keywords = random.sample(politics_keywords, 3)
    
    # Обогащаем текст ключевыми словами
    content = content + " " + " ".join(keywords) + "."
    
    return title, content

# Генерация файлов для обучения
for category in categories:
    print(f"Создаем файлы для категории: {category}")
    
    # 25 файлов для обучения
    for i in range(1, 26):
        title, content = generate_text(category)
        filename = f"{category}/{category}{i}.txt"
        with open(filename, 'w', encoding='utf-8') as f:
            f.write(f"{title}\n\n{content}")
    
    # 3 тестовых файла
    for i in range(1, 4):
        title, content = generate_text(category, is_test=True)
        filename = f"{category}/{category}_test{i}.txt"
        with open(filename, 'w', encoding='utf-8') as f:
            f.write(f"{title}\n\n{content}")

print("Датасеты успешно созданы!")
print("Структура:")
print("sport/ - 25 обучающих + 3 тестовых файла")
print("technology/ - 25 обучающих + 3 тестовых файла") 
print("politics/ - 25 обучающих + 3 тестовых файла")